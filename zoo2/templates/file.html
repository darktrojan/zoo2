{% extends 'page.html' %}

{% block 'content' %}
<h1>
	<a href="{% url 'index' %}">Zoo2</a>
	<a href="{% url 'repo' repo.full_name %}">{{ repo.full_name }}</a>
	<a href="{% url 'translation' repo.full_name locale.code %}">{{ locale.name }}</a>
	{{ file.path }}
</h1>
{% if is_owner %}
<form action="{% url 'save' repo.full_name locale.code file.path %}" method="post">
	{% csrf_token %}
{% endif %}
	<table id="translation_strings">{% for s in strings %}
		{% if s.base.pre != '' %}
		<tr class="note">
			<td></td>
			<td>{{ s.base.pre }}</td>
		</tr>
		{% endif %}
		<tr class="{% cycle 'row1' 'row2' as rowclass %}">
			<td class="key" rowspan="2">{{ s.base.key }} {% if s.dirty %}*{% endif %}</td>
			<td class="base">{{ s.base.value }}</td>
		</tr>
		<tr class="{{ rowclass }}">
			<td class="value">
				{% if is_owner %}
				<input type="text" name="locale_strings[{{ s.base.key }}]" value="{{ s.translated }}" />
				{% else %}
				{{ s.translated }}
				{% endif %}
			</td>
		</tr>
	{% endfor %}</table>
{% if is_owner %}
	<button type="submit">Save</button>
</form>
{% endif %}
{% endblock %}
